{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FanYukin\\\\codes\\\\f\\\\noints\\\\client\\\\src\\\\components\\\\Editor\\\\elements\\\\CodeBlock.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Prism from 'prismjs';\nimport 'prismjs/themes/prism-tomorrow.css';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-python';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CodeBlock = ({\n  attributes,\n  children,\n  element\n}) => {\n  _s();\n  const language = element.language || 'typescript';\n  const [content, setContent] = React.useState('');\n  React.useEffect(() => {\n    const code = (children === null || children === void 0 ? void 0 : children.toString()) || '';\n    const highlighted = Prism.highlight(code, Prism.languages[language], language);\n    setContent(highlighted);\n  }, [children, language]);\n  return /*#__PURE__*/_jsxDEV(\"pre\", {\n    ...attributes,\n    className: \"relative group\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute right-2 top-2 opacity-0 group-hover:opacity-100\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        contentEditable: false,\n        value: language,\n        onChange: e => {/* TODO: Implement language change */},\n        className: \"bg-gray-800 text-white text-sm rounded px-2 py-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"typescript\",\n          children: \"TypeScript\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"javascript\",\n          children: \"JavaScript\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"python\",\n          children: \"Python\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n      className: `language-${language}`,\n      dangerouslySetInnerHTML: {\n        __html: content\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeBlock, \"wipnac41BTB3eHT+ORLT1pgXER0=\");\n_c = CodeBlock;\nvar _c;\n$RefreshReg$(_c, \"CodeBlock\");","map":{"version":3,"names":["React","Prism","jsxDEV","_jsxDEV","CodeBlock","attributes","children","element","_s","language","content","setContent","useState","useEffect","code","toString","highlighted","highlight","languages","className","contentEditable","value","onChange","e","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/components/Editor/elements/CodeBlock.tsx"],"sourcesContent":["import React from 'react';\r\nimport Prism from 'prismjs';\r\nimport 'prismjs/themes/prism-tomorrow.css';\r\nimport 'prismjs/components/prism-typescript';\r\nimport 'prismjs/components/prism-javascript';\r\nimport 'prismjs/components/prism-python';\r\n\r\ninterface CodeBlockProps {\r\n  attributes: any;\r\n  children: React.ReactNode;\r\n  element: {\r\n    language?: string;\r\n  };\r\n}\r\n\r\nexport const CodeBlock: React.FC<CodeBlockProps> = ({ attributes, children, element }) => {\r\n  const language = element.language || 'typescript';\r\n  const [content, setContent] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    const code = children?.toString() || '';\r\n    const highlighted = Prism.highlight(\r\n      code,\r\n      Prism.languages[language],\r\n      language\r\n    );\r\n    setContent(highlighted);\r\n  }, [children, language]);\r\n\r\n  return (\r\n    <pre {...attributes} className=\"relative group\">\r\n      <div className=\"absolute right-2 top-2 opacity-0 group-hover:opacity-100\">\r\n        <select\r\n          contentEditable={false}\r\n          value={language}\r\n          onChange={(e) => {/* TODO: Implement language change */}}\r\n          className=\"bg-gray-800 text-white text-sm rounded px-2 py-1\"\r\n        >\r\n          <option value=\"typescript\">TypeScript</option>\r\n          <option value=\"javascript\">JavaScript</option>\r\n          <option value=\"python\">Python</option>\r\n        </select>\r\n      </div>\r\n      <code className={`language-${language}`} dangerouslySetInnerHTML={{ __html: content }} />\r\n      {children}\r\n    </pre>\r\n  );\r\n}; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,mCAAmC;AAC1C,OAAO,qCAAqC;AAC5C,OAAO,qCAAqC;AAC5C,OAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAUzC,OAAO,MAAMC,SAAmC,GAAGA,CAAC;EAAEC,UAAU;EAAEC,QAAQ;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACxF,MAAMC,QAAQ,GAAGF,OAAO,CAACE,QAAQ,IAAI,YAAY;EACjD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC;EAEhDZ,KAAK,CAACa,SAAS,CAAC,MAAM;IACpB,MAAMC,IAAI,GAAG,CAAAR,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAES,QAAQ,CAAC,CAAC,KAAI,EAAE;IACvC,MAAMC,WAAW,GAAGf,KAAK,CAACgB,SAAS,CACjCH,IAAI,EACJb,KAAK,CAACiB,SAAS,CAACT,QAAQ,CAAC,EACzBA,QACF,CAAC;IACDE,UAAU,CAACK,WAAW,CAAC;EACzB,CAAC,EAAE,CAACV,QAAQ,EAAEG,QAAQ,CAAC,CAAC;EAExB,oBACEN,OAAA;IAAA,GAASE,UAAU;IAAEc,SAAS,EAAC,gBAAgB;IAAAb,QAAA,gBAC7CH,OAAA;MAAKgB,SAAS,EAAC,0DAA0D;MAAAb,QAAA,eACvEH,OAAA;QACEiB,eAAe,EAAE,KAAM;QACvBC,KAAK,EAAEZ,QAAS;QAChBa,QAAQ,EAAGC,CAAC,IAAK,CAAC,sCAAuC;QACzDJ,SAAS,EAAC,kDAAkD;QAAAb,QAAA,gBAE5DH,OAAA;UAAQkB,KAAK,EAAC,YAAY;UAAAf,QAAA,EAAC;QAAU;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9CxB,OAAA;UAAQkB,KAAK,EAAC,YAAY;UAAAf,QAAA,EAAC;QAAU;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9CxB,OAAA;UAAQkB,KAAK,EAAC,QAAQ;UAAAf,QAAA,EAAC;QAAM;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eACNxB,OAAA;MAAMgB,SAAS,EAAE,YAAYV,QAAQ,EAAG;MAACmB,uBAAuB,EAAE;QAAEC,MAAM,EAAEnB;MAAQ;IAAE;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACxFrB,QAAQ;EAAA;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACnB,EAAA,CAhCWJ,SAAmC;AAAA0B,EAAA,GAAnC1B,SAAmC;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}