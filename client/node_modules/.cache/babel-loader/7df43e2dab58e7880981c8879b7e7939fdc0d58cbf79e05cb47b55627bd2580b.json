{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  items: [],\n  currentNotebook: null,\n  currentSection: null,\n  currentNote: null\n};\nconst notebookSlice = createSlice({\n  name: 'notebooks',\n  initialState,\n  reducers: {\n    updateNoteContent: (state, action) => {\n      const {\n        id,\n        content\n      } = action.payload;\n      state.items.forEach(notebook => {\n        notebook.sections.forEach(section => {\n          const note = section.notes.find(n => n.id === id);\n          if (note) {\n            note.content = content;\n            note.updatedAt = new Date();\n          }\n        });\n      });\n    },\n    addNote: (state, action) => {\n      const {\n        sectionId,\n        note\n      } = action.payload;\n      state.items.forEach(notebook => {\n        const section = notebook.sections.find(s => s.id === sectionId);\n        if (section) {\n          section.notes.push(note);\n        }\n      });\n    }\n  }\n});\nexport const {\n  updateNoteContent,\n  addNote\n} = notebookSlice.actions;\nexport default notebookSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","currentNotebook","currentSection","currentNote","notebookSlice","name","reducers","updateNoteContent","state","action","id","content","payload","forEach","notebook","sections","section","note","notes","find","n","updatedAt","Date","addNote","sectionId","s","push","actions","reducer"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/store/notebookSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Notebook, Section, Note } from '../types';\nimport { Descendant } from 'slate';\n\ninterface NotebookState {\n  items: Notebook[];\n  currentNotebook: Notebook | null;\n  currentSection: Section | null;\n  currentNote: Note | null;\n}\n\nconst initialState: NotebookState = {\n  items: [],\n  currentNotebook: null,\n  currentSection: null,\n  currentNote: null,\n};\n\nconst notebookSlice = createSlice({\n  name: 'notebooks',\n  initialState,\n  reducers: {\n    updateNoteContent: (\n      state,\n      action: PayloadAction<{ id: string; content: Descendant[] }>\n    ) => {\n      const { id, content } = action.payload;\n      state.items.forEach(notebook => {\n        notebook.sections.forEach(section => {\n          const note = section.notes.find(n => n.id === id);\n          if (note) {\n            note.content = content;\n            note.updatedAt = new Date();\n          }\n        });\n      });\n    },\n    addNote: (\n      state,\n      action: PayloadAction<{ sectionId: string; note: Note }>\n    ) => {\n      const { sectionId, note } = action.payload;\n      state.items.forEach(notebook => {\n        const section = notebook.sections.find(s => s.id === sectionId);\n        if (section) {\n          section.notes.push(note);\n        }\n      });\n    },\n  },\n});\n\nexport const { updateNoteContent, addNote } = notebookSlice.actions;\nexport default notebookSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAW7D,MAAMC,YAA2B,GAAG;EAClCC,KAAK,EAAE,EAAE;EACTC,eAAe,EAAE,IAAI;EACrBC,cAAc,EAAE,IAAI;EACpBC,WAAW,EAAE;AACf,CAAC;AAED,MAAMC,aAAa,GAAGN,WAAW,CAAC;EAChCO,IAAI,EAAE,WAAW;EACjBN,YAAY;EACZO,QAAQ,EAAE;IACRC,iBAAiB,EAAEA,CACjBC,KAAK,EACLC,MAA4D,KACzD;MACH,MAAM;QAAEC,EAAE;QAAEC;MAAQ,CAAC,GAAGF,MAAM,CAACG,OAAO;MACtCJ,KAAK,CAACR,KAAK,CAACa,OAAO,CAACC,QAAQ,IAAI;QAC9BA,QAAQ,CAACC,QAAQ,CAACF,OAAO,CAACG,OAAO,IAAI;UACnC,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACV,EAAE,KAAKA,EAAE,CAAC;UACjD,IAAIO,IAAI,EAAE;YACRA,IAAI,CAACN,OAAO,GAAGA,OAAO;YACtBM,IAAI,CAACI,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC;UAC7B;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IACDC,OAAO,EAAEA,CACPf,KAAK,EACLC,MAAwD,KACrD;MACH,MAAM;QAAEe,SAAS;QAAEP;MAAK,CAAC,GAAGR,MAAM,CAACG,OAAO;MAC1CJ,KAAK,CAACR,KAAK,CAACa,OAAO,CAACC,QAAQ,IAAI;QAC9B,MAAME,OAAO,GAAGF,QAAQ,CAACC,QAAQ,CAACI,IAAI,CAACM,CAAC,IAAIA,CAAC,CAACf,EAAE,KAAKc,SAAS,CAAC;QAC/D,IAAIR,OAAO,EAAE;UACXA,OAAO,CAACE,KAAK,CAACQ,IAAI,CAACT,IAAI,CAAC;QAC1B;MACF,CAAC,CAAC;IACJ;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEV,iBAAiB;EAAEgB;AAAQ,CAAC,GAAGnB,aAAa,CAACuB,OAAO;AACnE,eAAevB,aAAa,CAACwB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}