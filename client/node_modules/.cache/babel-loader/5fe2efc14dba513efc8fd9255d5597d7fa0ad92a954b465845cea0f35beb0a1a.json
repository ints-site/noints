{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FanYukin\\\\codes\\\\f\\\\noints\\\\client\\\\src\\\\components\\\\Editor\\\\NoteEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { createEditor, Node as SlateNode } from 'slate';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport { useAutoSave } from '../../hooks/useAutoSave';\nimport Toolbar from './Toolbar';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NoteEditor = ({\n  noteId\n}) => {\n  _s();\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\n  const [value, setValue] = useState([{\n    type: 'paragraph',\n    children: [{\n      text: ''\n    }]\n  }]);\n  const [saveStatus, setSaveStatus] = useState('saved');\n  const [wordCount, setWordCount] = useState(0);\n\n  // 使用自动保存 hook\n  useAutoSave(noteId || null, value, 2000, () => {\n    setSaveStatus('saving');\n    setTimeout(() => setSaveStatus('saved'), 1000);\n  });\n\n  // 渲染元素\n  const renderElement = useCallback(props => {\n    switch (props.element.type) {\n      case 'bulleted-list':\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 16\n        }, this);\n      case 'numbered-list':\n        return /*#__PURE__*/_jsxDEV(\"ol\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }, this);\n    }\n  }, []);\n\n  // 渲染叶子节点\n  const renderLeaf = useCallback(props => {\n    let {\n      children\n    } = props;\n    if (props.leaf.bold) {\n      children = /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 18\n      }, this);\n    }\n    if (props.leaf.italic) {\n      children = /*#__PURE__*/_jsxDEV(\"em\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 18\n      }, this);\n    }\n    if (props.leaf.underline) {\n      children = /*#__PURE__*/_jsxDEV(\"u\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      ...props.attributes,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }, this);\n  }, []);\n\n  // 修改计算字数的函数\n  const calculateWordCount = useCallback(value => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n').trim();\n    if (!text) return 0;\n\n    // 分别计算中文和英文字数\n    const cjkCount = (text.match(/[\\u4e00-\\u9fff\\u3400-\\u4dbf]/g) || []).length;\n    const englishWords = text.replace(/[\\u4e00-\\u9fff\\u3400-\\u4dbf]/g, '') // 移除中文字符\n    .trim().split(/\\s+/).filter(Boolean).length;\n\n    // 中文字符算一个字，英文单词算一个字\n    return cjkCount + englishWords;\n  }, []);\n\n  // 修改导出函数，使filename参数可选\n  const handleExport = useCallback((format, filename) => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n');\n    const blob = new Blob([text], {\n      type: 'text/plain;charset=utf-8'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    // 如果没有提供文件名，使用默认文件名\n    a.download = filename || `note.${format}`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }, [value]);\n\n  // 处理快捷键\n  const handleKeyDown = useCallback(event => {\n    if (!event.ctrlKey) return;\n    switch (event.key) {\n      case 'b':\n        {\n          event.preventDefault();\n          editor.addMark('bold', true);\n          break;\n        }\n      case 'i':\n        {\n          event.preventDefault();\n          editor.addMark('italic', true);\n          break;\n        }\n      case 'u':\n        {\n          event.preventDefault();\n          editor.addMark('underline', true);\n          break;\n        }\n      case 'z':\n        {\n          event.preventDefault();\n          if (event.shiftKey) {\n            editor.redo();\n          } else {\n            editor.undo();\n          }\n          break;\n        }\n      case 'y':\n        {\n          event.preventDefault();\n          editor.redo();\n          break;\n        }\n    }\n  }, [editor]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col\",\n    children: /*#__PURE__*/_jsxDEV(Slate, {\n      editor: editor,\n      value: value,\n      onChange: newValue => {\n        setValue(newValue);\n        const count = calculateWordCount(newValue);\n        setWordCount(count);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b flex items-center justify-between px-4 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          onExport: handleExport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500 flex items-center gap-1\",\n            children: [saveStatus === 'saving' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons animate-spin text-blue-500\",\n                children: \"sync\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), \"Saving...\"]\n            }, void 0, true), saveStatus === 'saved' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons text-green-500\",\n                children: \"check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), \"Saved\"]\n            }, void 0, true), saveStatus === 'error' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons text-red-500\",\n                children: \"error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), \"Error saving\"]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [wordCount, \" \", wordCount === 1 ? 'character' : 'characters']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-auto\",\n        children: /*#__PURE__*/_jsxDEV(Editable, {\n          className: \"h-full outline-none prose max-w-none\",\n          renderElement: renderElement,\n          renderLeaf: renderLeaf,\n          placeholder: \"Start typing...\",\n          onKeyDown: handleKeyDown,\n          spellCheck: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(NoteEditor, \"R+KAPzSV4zl/UDLW7SSbPs4Mnp8=\", false, function () {\n  return [useAutoSave];\n});\n_c = NoteEditor;\nexport default NoteEditor;\nvar _c;\n$RefreshReg$(_c, \"NoteEditor\");","map":{"version":3,"names":["React","useMemo","useState","useCallback","createEditor","Node","SlateNode","Slate","Editable","withReact","withHistory","useAutoSave","Toolbar","jsxDEV","_jsxDEV","Fragment","_Fragment","NoteEditor","noteId","_s","editor","value","setValue","type","children","text","saveStatus","setSaveStatus","wordCount","setWordCount","setTimeout","renderElement","props","element","attributes","fileName","_jsxFileName","lineNumber","columnNumber","renderLeaf","leaf","bold","italic","underline","calculateWordCount","map","n","string","join","trim","cjkCount","match","length","englishWords","replace","split","filter","Boolean","handleExport","format","filename","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleKeyDown","event","ctrlKey","key","preventDefault","addMark","shiftKey","redo","undo","className","onChange","newValue","count","onExport","placeholder","onKeyDown","spellCheck","_c","$RefreshReg$"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/components/Editor/NoteEditor.tsx"],"sourcesContent":["import React, { useMemo, useState, useCallback } from 'react';\nimport { \n  createEditor, \n  Descendant, \n  Editor, \n  Element as SlateElement,\n  Node as SlateNode,\n  Transforms\n} from 'slate';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport { useAutoSave } from '../../hooks/useAutoSave';\nimport Toolbar from './Toolbar';\nimport { CustomElement, CustomText } from './types';\n\ninterface EditorProps {\n  noteId?: string;\n}\n\nconst NoteEditor: React.FC<EditorProps> = ({ noteId }) => {\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\n  const [value, setValue] = useState<Descendant[]>([\n    {\n      type: 'paragraph',\n      children: [{ text: '' }]\n    }\n  ]);\n  const [saveStatus, setSaveStatus] = useState<'saved' | 'saving' | 'error'>('saved');\n  const [wordCount, setWordCount] = useState(0);\n\n  // 使用自动保存 hook\n  useAutoSave(noteId || null, value, 2000, () => {\n    setSaveStatus('saving');\n    setTimeout(() => setSaveStatus('saved'), 1000);\n  });\n\n  // 渲染元素\n  const renderElement = useCallback((props: {\n    element: CustomElement;\n    children: React.ReactNode;\n    attributes: any;\n  }) => {\n    switch (props.element.type) {\n      case 'bulleted-list':\n        return <ul {...props.attributes}>{props.children}</ul>;\n      case 'numbered-list':\n        return <ol {...props.attributes}>{props.children}</ol>;\n      default:\n        return <p {...props.attributes}>{props.children}</p>;\n    }\n  }, []);\n\n  // 渲染叶子节点\n  const renderLeaf = useCallback((props: {\n    leaf: CustomText;\n    children: React.ReactNode;\n    attributes: any;\n  }) => {\n    let { children } = props;\n    \n    if (props.leaf.bold) {\n      children = <strong>{children}</strong>;\n    }\n    if (props.leaf.italic) {\n      children = <em>{children}</em>;\n    }\n    if (props.leaf.underline) {\n      children = <u>{children}</u>;\n    }\n    \n    return <span {...props.attributes}>{children}</span>;\n  }, []);\n\n  // 修改计算字数的函数\n  const calculateWordCount = useCallback((value: Descendant[]) => {\n    const text = value\n      .map(n => SlateNode.string(n))\n      .join('\\n')\n      .trim();\n    \n    if (!text) return 0;\n    \n    // 分别计算中文和英文字数\n    const cjkCount = (text.match(/[\\u4e00-\\u9fff\\u3400-\\u4dbf]/g) || []).length;\n    const englishWords = text\n      .replace(/[\\u4e00-\\u9fff\\u3400-\\u4dbf]/g, '') // 移除中文字符\n      .trim()\n      .split(/\\s+/)\n      .filter(Boolean).length;\n    \n    // 中文字符算一个字，英文单词算一个字\n    return cjkCount + englishWords;\n  }, []);\n\n  // 修改导出函数，使filename参数可选\n  const handleExport = useCallback((format: 'txt' | 'md' | 'html', filename?: string) => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n');\n    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    // 如果没有提供文件名，使用默认文件名\n    a.download = filename || `note.${format}`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }, [value]);\n\n  // 处理快捷键\n  const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n    if (!event.ctrlKey) return;\n\n    switch (event.key) {\n      case 'b': {\n        event.preventDefault();\n        editor.addMark('bold', true);\n        break;\n      }\n      case 'i': {\n        event.preventDefault();\n        editor.addMark('italic', true);\n        break;\n      }\n      case 'u': {\n        event.preventDefault();\n        editor.addMark('underline', true);\n        break;\n      }\n      case 'z': {\n        event.preventDefault();\n        if (event.shiftKey) {\n          editor.redo();\n        } else {\n          editor.undo();\n        }\n        break;\n      }\n      case 'y': {\n        event.preventDefault();\n        editor.redo();\n        break;\n      }\n    }\n  }, [editor]);\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <Slate\n        editor={editor}\n        value={value}\n        onChange={newValue => {\n          setValue(newValue);\n          const count = calculateWordCount(newValue);\n          setWordCount(count);\n        }}\n      >\n        <div className=\"border-b flex items-center justify-between px-4 py-2\">\n          <Toolbar onExport={handleExport} />\n          <div className=\"flex items-center gap-4\">\n            {/* 保存状态指示器 */}\n            <div className=\"text-sm text-gray-500 flex items-center gap-1\">\n              {saveStatus === 'saving' && (\n                <>\n                  <span className=\"material-icons animate-spin text-blue-500\">sync</span>\n                  Saving...\n                </>\n              )}\n              {saveStatus === 'saved' && (\n                <>\n                  <span className=\"material-icons text-green-500\">check</span>\n                  Saved\n                </>\n              )}\n              {saveStatus === 'error' && (\n                <>\n                  <span className=\"material-icons text-red-500\">error</span>\n                  Error saving\n                </>\n              )}\n            </div>\n            {/* 字数统计 */}\n            <div className=\"text-sm text-gray-500\">\n              {wordCount} {wordCount === 1 ? 'character' : 'characters'}\n            </div>\n          </div>\n        </div>\n        <div className=\"flex-1 p-6 overflow-auto\">\n          <Editable\n            className=\"h-full outline-none prose max-w-none\"\n            renderElement={renderElement}\n            renderLeaf={renderLeaf}\n            placeholder=\"Start typing...\"\n            onKeyDown={handleKeyDown}\n            spellCheck={false}\n          />\n        </div>\n      </Slate>\n    </div>\n  );\n};\n\nexport default NoteEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}