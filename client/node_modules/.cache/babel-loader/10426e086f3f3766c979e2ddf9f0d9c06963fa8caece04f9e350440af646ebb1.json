{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FanYukin\\\\codes\\\\f\\\\noints\\\\client\\\\src\\\\components\\\\Editor\\\\Toolbar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { Editor } from 'slate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Toolbar = ({\n  editor,\n  onExport,\n  onThemeChange,\n  onToggleBlock,\n  isBlockActive\n}) => {\n  _s();\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 检查当前格式是否激活\n  const isFormatActive = format => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n  };\n\n  // 切换格式\n  const toggleFormat = format => {\n    const isActive = isFormatActive(format);\n    if (isActive) {\n      Editor.removeMark(editor, format);\n    } else {\n      Editor.addMark(editor, format, true);\n    }\n  };\n\n  // 切换主题\n  const toggleTheme = useCallback(() => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    onThemeChange === null || onThemeChange === void 0 ? void 0 : onThemeChange(newMode);\n  }, [isDarkMode, onThemeChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-2 p-2 border-b dark:border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \n            ${isFormatActive('bold') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('bold'),\n        title: \"Bold (Ctrl+B)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('italic') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('italic'),\n        title: \"Italic (Ctrl+I)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_italic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('underline') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('underline'),\n        title: \"Underline (Ctrl+U)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_underlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isBlockActive('bulleted-list') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => onToggleBlock('bulleted-list'),\n        title: \"Bullet List\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_list_bulleted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isBlockActive('numbered-list') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => onToggleBlock('numbered-list'),\n        title: \"Numbered List\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_list_numbered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: () => onExport === null || onExport === void 0 ? void 0 : onExport('txt'),\n        title: \"Export\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: toggleTheme,\n        title: \"Toggle Theme\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: isDarkMode ? 'light_mode' : 'dark_mode'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Toolbar, \"APDT1mZLoL4TXGoyWEAwdPxV8Jw=\");\n_c = Toolbar;\nexport default Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");","map":{"version":3,"names":["React","useCallback","useState","Editor","jsxDEV","_jsxDEV","Toolbar","editor","onExport","onThemeChange","onToggleBlock","isBlockActive","_s","isDarkMode","setIsDarkMode","isFormatActive","format","marks","toggleFormat","isActive","removeMark","addMark","toggleTheme","newMode","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/components/Editor/Toolbar.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Editor } from 'slate';\nimport { CustomEditor, MarkFormatType, BlockFormatType } from './types';\n\ninterface ToolbarProps {\n  editor: CustomEditor;\n  onExport?: (format: 'txt' | 'md' | 'html') => void;\n  onThemeChange?: (isDark: boolean) => void;\n  onToggleBlock: (format: BlockFormatType) => void;\n  isBlockActive: (format: BlockFormatType) => boolean;\n}\n\nconst Toolbar: React.FC<ToolbarProps> = ({ \n  editor,\n  onExport, \n  onThemeChange,\n  onToggleBlock,\n  isBlockActive \n}) => {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 检查当前格式是否激活\n  const isFormatActive = (format: MarkFormatType) => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n  };\n\n  // 切换格式\n  const toggleFormat = (format: MarkFormatType) => {\n    const isActive = isFormatActive(format);\n    if (isActive) {\n      Editor.removeMark(editor, format);\n    } else {\n      Editor.addMark(editor, format, true);\n    }\n  };\n\n  // 切换主题\n  const toggleTheme = useCallback(() => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    onThemeChange?.(newMode);\n  }, [isDarkMode, onThemeChange]);\n\n  return (\n    <div className=\"flex items-center gap-2 p-2 border-b dark:border-gray-700\">\n      {/* 格式化按钮组 */}\n      <div className=\"flex gap-1\">\n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \n            ${isFormatActive('bold') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('bold')}\n          title=\"Bold (Ctrl+B)\"\n        >\n          <span className=\"material-icons\">format_bold</span>\n        </button>\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('italic') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('italic')}\n          title=\"Italic (Ctrl+I)\"\n        >\n          <span className=\"material-icons\">format_italic</span>\n        </button>\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('underline') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('underline')}\n          title=\"Underline (Ctrl+U)\"\n        >\n          <span className=\"material-icons\">format_underlined</span>\n        </button>\n\n        <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\" />\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isBlockActive('bulleted-list') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => onToggleBlock('bulleted-list')}\n          title=\"Bullet List\"\n        >\n          <span className=\"material-icons\">format_list_bulleted</span>\n        </button>\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isBlockActive('numbered-list') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => onToggleBlock('numbered-list')}\n          title=\"Numbered List\"\n        >\n          <span className=\"material-icons\">format_list_numbered</span>\n        </button>\n      </div>\n\n      <div className=\"flex-1\" />\n      \n      {/* 右侧功能按钮 */}\n      <div className=\"flex gap-2\">\n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={() => onExport?.('txt')}\n          title=\"Export\"\n        >\n          <span className=\"material-icons\">download</span>\n        </button>\n        \n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={toggleTheme}\n          title=\"Toggle Theme\"\n        >\n          <span className=\"material-icons\">\n            {isDarkMode ? 'light_mode' : 'dark_mode'}\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}