{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FanYukin\\\\codes\\\\f\\\\noints\\\\client\\\\src\\\\components\\\\Editor\\\\Toolbar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { useSlate } from 'slate-react';\nimport { Editor } from 'slate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Toolbar = ({\n  onExport,\n  onThemeChange\n}) => {\n  _s();\n  const editor = useSlate();\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 检查当前格式是否激活\n  const isFormatActive = format => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n  };\n\n  // 切换格式\n  const toggleFormat = format => {\n    const isActive = isFormatActive(format);\n    if (isActive) {\n      Editor.removeMark(editor, format);\n    } else {\n      Editor.addMark(editor, format, true);\n    }\n  };\n\n  // 切换主题\n  const toggleTheme = useCallback(() => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    onThemeChange === null || onThemeChange === void 0 ? void 0 : onThemeChange(newMode);\n  }, [isDarkMode, onThemeChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-2 p-2 border-b dark:border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \n            ${isFormatActive('bold') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('bold'),\n        title: \"Bold (Ctrl+B)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('italic') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('italic'),\n        title: \"Italic (Ctrl+I)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_italic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('underline') ? 'bg-gray-200 dark:bg-gray-600' : ''}`,\n        onClick: () => toggleFormat('underline'),\n        title: \"Underline (Ctrl+U)\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_underlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: () => editor.insertText('\\n• '),\n        title: \"Bullet List\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_list_bulleted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: () => editor.insertText('\\n1. '),\n        title: \"Numbered List\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"format_list_numbered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: () => onExport === null || onExport === void 0 ? void 0 : onExport('txt'),\n        title: \"Export\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: \"download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\",\n        onClick: toggleTheme,\n        title: \"Toggle Theme\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          children: isDarkMode ? 'light_mode' : 'dark_mode'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Toolbar, \"lnpGRg18KUqyzVCjlagj3ba6y2M=\", false, function () {\n  return [useSlate];\n});\n_c = Toolbar;\nexport default Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");","map":{"version":3,"names":["React","useCallback","useState","useSlate","Editor","jsxDEV","_jsxDEV","Toolbar","onExport","onThemeChange","_s","editor","isDarkMode","setIsDarkMode","isFormatActive","format","marks","toggleFormat","isActive","removeMark","addMark","toggleTheme","newMode","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","insertText","_c","$RefreshReg$"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/components/Editor/Toolbar.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { useSlate } from 'slate-react';\nimport { Editor } from 'slate';\nimport { CustomEditor, MarkFormatType } from './types';\n\ninterface ToolbarProps {\n  onExport?: (format: 'txt' | 'md' | 'html') => void;\n  onThemeChange?: (isDark: boolean) => void;\n}\n\nconst Toolbar: React.FC<ToolbarProps> = ({ onExport, onThemeChange }) => {\n  const editor = useSlate() as CustomEditor;\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 检查当前格式是否激活\n  const isFormatActive = (format: MarkFormatType) => {\n    const marks = Editor.marks(editor);\n    return marks ? marks[format] === true : false;\n  };\n\n  // 切换格式\n  const toggleFormat = (format: MarkFormatType) => {\n    const isActive = isFormatActive(format);\n    if (isActive) {\n      Editor.removeMark(editor, format);\n    } else {\n      Editor.addMark(editor, format, true);\n    }\n  };\n\n  // 切换主题\n  const toggleTheme = useCallback(() => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    onThemeChange?.(newMode);\n  }, [isDarkMode, onThemeChange]);\n\n  return (\n    <div className=\"flex items-center gap-2 p-2 border-b dark:border-gray-700\">\n      {/* 格式化按钮组 */}\n      <div className=\"flex gap-1\">\n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 \n            ${isFormatActive('bold') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('bold')}\n          title=\"Bold (Ctrl+B)\"\n        >\n          <span className=\"material-icons\">format_bold</span>\n        </button>\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('italic') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('italic')}\n          title=\"Italic (Ctrl+I)\"\n        >\n          <span className=\"material-icons\">format_italic</span>\n        </button>\n        \n        <button\n          className={`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\n            ${isFormatActive('underline') ? 'bg-gray-200 dark:bg-gray-600' : ''}`}\n          onClick={() => toggleFormat('underline')}\n          title=\"Underline (Ctrl+U)\"\n        >\n          <span className=\"material-icons\">format_underlined</span>\n        </button>\n\n        <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\" />\n        \n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={() => editor.insertText('\\n• ')}\n          title=\"Bullet List\"\n        >\n          <span className=\"material-icons\">format_list_bulleted</span>\n        </button>\n        \n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={() => editor.insertText('\\n1. ')}\n          title=\"Numbered List\"\n        >\n          <span className=\"material-icons\">format_list_numbered</span>\n        </button>\n      </div>\n\n      <div className=\"flex-1\" />\n      \n      {/* 右侧功能按钮 */}\n      <div className=\"flex gap-2\">\n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={() => onExport?.('txt')}\n          title=\"Export\"\n        >\n          <span className=\"material-icons\">download</span>\n        </button>\n        \n        <button\n          className=\"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\n          onClick={toggleTheme}\n          title=\"Toggle Theme\"\n        >\n          <span className=\"material-icons\">\n            {isDarkMode ? 'light_mode' : 'dark_mode'}\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}