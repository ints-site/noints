{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FanYukin\\\\codes\\\\f\\\\noints\\\\client\\\\src\\\\components\\\\Editor\\\\NoteEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { createEditor, Node as SlateNode } from 'slate';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport { useAutoSave } from '../../hooks/useAutoSave';\nimport Toolbar from './Toolbar';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NoteEditor = ({\n  noteId\n}) => {\n  _s();\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\n  const [value, setValue] = useState([{\n    type: 'paragraph',\n    children: [{\n      text: ''\n    }]\n  }]);\n  const [saveStatus, setSaveStatus] = useState('saved');\n  const [wordCount, setWordCount] = useState(0);\n\n  // 使用自动保存 hook\n  useAutoSave(noteId || null, value, 2000, () => {\n    setSaveStatus('saving');\n    setTimeout(() => setSaveStatus('saved'), 1000);\n  });\n\n  // 渲染元素\n  const renderElement = useCallback(props => {\n    switch (props.element.type) {\n      case 'bulleted-list':\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 16\n        }, this);\n      case 'numbered-list':\n        return /*#__PURE__*/_jsxDEV(\"ol\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          ...props.attributes,\n          children: props.children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 16\n        }, this);\n    }\n  }, []);\n\n  // 渲染叶子节点\n  const renderLeaf = useCallback(props => {\n    let {\n      children\n    } = props;\n    if (props.leaf.bold) {\n      children = /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }, this);\n    }\n    if (props.leaf.italic) {\n      children = /*#__PURE__*/_jsxDEV(\"em\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 18\n      }, this);\n    }\n    if (props.leaf.underline) {\n      children = /*#__PURE__*/_jsxDEV(\"u\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 18\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      ...props.attributes,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }, []);\n\n  // 计算字数\n  const calculateWordCount = useCallback(value => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n').trim();\n\n    // Count both words (separated by spaces) and individual CJK characters\n    const words = text.split(/\\s+/).filter(Boolean);\n    const cjkChars = text.match(/[\\u4e00-\\u9fff\\u3400-\\u4dbf\\u20000-\\u2a6df\\u2a700-\\u2b73f\\u2b740-\\u2b81f\\u2b820-\\u2ceaf\\uf900-\\ufaff\\u3300-\\u33ff\\ufe30-\\ufe4f\\uf900-\\ufaff\\u2f800-\\u2fa1f]/g) || [];\n    return words.length + cjkChars.length;\n  }, []);\n\n  // 导出功能\n  const handleExport = useCallback(format => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n');\n    const blob = new Blob([text], {\n      type: 'text/plain;charset=utf-8'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `note.${format}`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }, [value]);\n\n  // 处理快捷键\n  const handleKeyDown = useCallback(event => {\n    if (!event.ctrlKey) return;\n    switch (event.key) {\n      case 'b':\n        {\n          event.preventDefault();\n          editor.addMark('bold', true);\n          break;\n        }\n      case 'i':\n        {\n          event.preventDefault();\n          editor.addMark('italic', true);\n          break;\n        }\n      case 'u':\n        {\n          event.preventDefault();\n          editor.addMark('underline', true);\n          break;\n        }\n      case 'z':\n        {\n          event.preventDefault();\n          if (event.shiftKey) {\n            editor.redo();\n          } else {\n            editor.undo();\n          }\n          break;\n        }\n      case 'y':\n        {\n          event.preventDefault();\n          editor.redo();\n          break;\n        }\n    }\n  }, [editor]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col\",\n    children: /*#__PURE__*/_jsxDEV(Slate, {\n      editor: editor,\n      value: value,\n      onChange: newValue => {\n        setValue(newValue);\n        setWordCount(calculateWordCount(newValue));\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b flex items-center justify-between px-4 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          onExport: handleExport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500 flex items-center gap-1\",\n            children: [saveStatus === 'saving' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons animate-spin text-blue-500\",\n                children: \"sync\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), \"Saving...\"]\n            }, void 0, true), saveStatus === 'saved' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons text-green-500\",\n                children: \"check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), \"Saved\"]\n            }, void 0, true), saveStatus === 'error' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-icons text-red-500\",\n                children: \"error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), \"Error saving\"]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [wordCount, \" \", wordCount === 1 ? 'word' : 'words']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-auto\",\n        children: /*#__PURE__*/_jsxDEV(Editable, {\n          className: \"h-full outline-none prose max-w-none\",\n          renderElement: renderElement,\n          renderLeaf: renderLeaf,\n          placeholder: \"Start typing...\",\n          onKeyDown: handleKeyDown,\n          spellCheck: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(NoteEditor, \"/3y01niNH4RqmTUHLYcF1IRd540=\", false, function () {\n  return [useAutoSave];\n});\n_c = NoteEditor;\nexport default NoteEditor;\nvar _c;\n$RefreshReg$(_c, \"NoteEditor\");","map":{"version":3,"names":["React","useMemo","useState","useCallback","createEditor","Node","SlateNode","Slate","Editable","withReact","withHistory","useAutoSave","Toolbar","jsxDEV","_jsxDEV","Fragment","_Fragment","NoteEditor","noteId","_s","editor","value","setValue","type","children","text","saveStatus","setSaveStatus","wordCount","setWordCount","setTimeout","renderElement","props","element","attributes","fileName","_jsxFileName","lineNumber","columnNumber","renderLeaf","leaf","bold","italic","underline","calculateWordCount","map","n","string","join","trim","words","split","filter","Boolean","cjkChars","match","length","handleExport","format","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleKeyDown","event","ctrlKey","key","preventDefault","addMark","shiftKey","redo","undo","className","onChange","newValue","onExport","placeholder","onKeyDown","spellCheck","_c","$RefreshReg$"],"sources":["C:/Users/FanYukin/codes/f/noints/client/src/components/Editor/NoteEditor.tsx"],"sourcesContent":["import React, { useMemo, useState, useCallback } from 'react';\nimport { createEditor, Descendant, Editor, Node as SlateNode } from 'slate';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport { useAutoSave } from '../../hooks/useAutoSave';\nimport Toolbar from './Toolbar';\nimport { CustomElement, CustomText } from './types';\n\ninterface EditorProps {\n  noteId?: string;\n}\n\nconst NoteEditor: React.FC<EditorProps> = ({ noteId }) => {\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\n  const [value, setValue] = useState<Descendant[]>([\n    {\n      type: 'paragraph',\n      children: [{ text: '' }],\n    },\n  ]);\n  const [saveStatus, setSaveStatus] = useState<'saved' | 'saving' | 'error'>('saved');\n  const [wordCount, setWordCount] = useState(0);\n\n  // 使用自动保存 hook\n  useAutoSave(noteId || null, value, 2000, () => {\n    setSaveStatus('saving');\n    setTimeout(() => setSaveStatus('saved'), 1000);\n  });\n\n  // 渲染元素\n  const renderElement = useCallback((props: {\n    element: CustomElement;\n    children: React.ReactNode;\n    attributes: any;\n  }) => {\n    switch (props.element.type) {\n      case 'bulleted-list':\n        return <ul {...props.attributes}>{props.children}</ul>;\n      case 'numbered-list':\n        return <ol {...props.attributes}>{props.children}</ol>;\n      default:\n        return <p {...props.attributes}>{props.children}</p>;\n    }\n  }, []);\n\n  // 渲染叶子节点\n  const renderLeaf = useCallback((props: {\n    leaf: CustomText;\n    children: React.ReactNode;\n    attributes: any;\n  }) => {\n    let { children } = props;\n    \n    if (props.leaf.bold) {\n      children = <strong>{children}</strong>;\n    }\n    if (props.leaf.italic) {\n      children = <em>{children}</em>;\n    }\n    if (props.leaf.underline) {\n      children = <u>{children}</u>;\n    }\n    \n    return <span {...props.attributes}>{children}</span>;\n  }, []);\n\n  // 计算字数\n  const calculateWordCount = useCallback((value: Descendant[]) => {\n    const text = value\n      .map(n => SlateNode.string(n))\n      .join('\\n')\n      .trim();\n    \n    // Count both words (separated by spaces) and individual CJK characters\n    const words = text.split(/\\s+/).filter(Boolean);\n    const cjkChars = text.match(/[\\u4e00-\\u9fff\\u3400-\\u4dbf\\u20000-\\u2a6df\\u2a700-\\u2b73f\\u2b740-\\u2b81f\\u2b820-\\u2ceaf\\uf900-\\ufaff\\u3300-\\u33ff\\ufe30-\\ufe4f\\uf900-\\ufaff\\u2f800-\\u2fa1f]/g) || [];\n    \n    return words.length + cjkChars.length;\n  }, []);\n\n  // 导出功能\n  const handleExport = useCallback((format: 'txt' | 'md' | 'html') => {\n    const text = value.map(n => SlateNode.string(n)).join('\\n');\n    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `note.${format}`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }, [value]);\n\n  // 处理快捷键\n  const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n    if (!event.ctrlKey) return;\n\n    switch (event.key) {\n      case 'b': {\n        event.preventDefault();\n        editor.addMark('bold', true);\n        break;\n      }\n      case 'i': {\n        event.preventDefault();\n        editor.addMark('italic', true);\n        break;\n      }\n      case 'u': {\n        event.preventDefault();\n        editor.addMark('underline', true);\n        break;\n      }\n      case 'z': {\n        event.preventDefault();\n        if (event.shiftKey) {\n          editor.redo();\n        } else {\n          editor.undo();\n        }\n        break;\n      }\n      case 'y': {\n        event.preventDefault();\n        editor.redo();\n        break;\n      }\n    }\n  }, [editor]);\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <Slate\n        editor={editor}\n        value={value}\n        onChange={newValue => {\n          setValue(newValue);\n          setWordCount(calculateWordCount(newValue));\n        }}\n      >\n        <div className=\"border-b flex items-center justify-between px-4 py-2\">\n          <Toolbar onExport={handleExport} />\n          <div className=\"flex items-center gap-4\">\n            {/* 保存状态指示器 */}\n            <div className=\"text-sm text-gray-500 flex items-center gap-1\">\n              {saveStatus === 'saving' && (\n                <>\n                  <span className=\"material-icons animate-spin text-blue-500\">sync</span>\n                  Saving...\n                </>\n              )}\n              {saveStatus === 'saved' && (\n                <>\n                  <span className=\"material-icons text-green-500\">check</span>\n                  Saved\n                </>\n              )}\n              {saveStatus === 'error' && (\n                <>\n                  <span className=\"material-icons text-red-500\">error</span>\n                  Error saving\n                </>\n              )}\n            </div>\n            {/* 字数统计 */}\n            <div className=\"text-sm text-gray-500\">\n              {wordCount} {wordCount === 1 ? 'word' : 'words'}\n            </div>\n          </div>\n        </div>\n        <div className=\"flex-1 p-6 overflow-auto\">\n          <Editable\n            className=\"h-full outline-none prose max-w-none\"\n            renderElement={renderElement}\n            renderLeaf={renderLeaf}\n            placeholder=\"Start typing...\"\n            onKeyDown={handleKeyDown}\n            spellCheck={false}\n          />\n        </div>\n      </Slate>\n    </div>\n  );\n};\n\nexport default NoteEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}